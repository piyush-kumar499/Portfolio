<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Certificates and Achievements - Professional Certifications and Accomplishments">
    <title>Certificates - Your Name</title>
    <link rel="stylesheet" href="assets/css/certificates.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Add inline styles to prevent layout issues -->
    <style>
        /* Ensure proper layout structure */
        body {
            padding-top: 80px !important;
            margin: 0 !important;
            min-height: 100vh !important;
            display: flex !important;
            flex-direction: column !important;
        }
        
        #header-placeholder {
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            right: 0 !important;
            z-index: 9999 !important;
            height: 80px !important;
        }
        
        main {
            flex: 1 !important;
            padding-top: 0 !important;
        }
        
        #footer-placeholder {
            margin-top: auto !important;
            position: relative !important;
            z-index: 100 !important;
        }
        
        @media (max-width: 768px) {
            body {
                padding-top: 70px !important;
            }
            #header-placeholder {
                height: 70px !important;
            }
        }
    </style>
</head>
<body class="portfolio-body">
    <!-- Include Header -->
    <div id="header-placeholder"></div>

    <!-- Main Content Wrapper -->
    <main>
        <!-- Certificates Hero Section -->
        <section class="certificates-hero">
            <div class="container">
                <h1 class="page-title">My <span class="highlight">Achievements</span></h1>
                <p class="page-subtitle">Professional certifications and accomplishments that showcase my expertise</p>
                
                <!-- Certificate Filter -->
                <div class="certificate-filters" id="certificate-filters">
                    <!-- Filters will be populated by JavaScript -->
                </div>
            </div>
        </section>

        <!-- Certificates Stats -->
        <section class="certificates-stats">
            <div class="container">
                <div class="stats-grid" id="certificates-stats">
                    <!-- Stats will be populated by JavaScript -->
                </div>
            </div>
        </section>

        <!-- Certificates Grid -->
        <section class="certificates-section">
            <div class="container">
                <div class="certificates-grid" id="certificates-grid">
                    <!-- Certificates will be populated by JavaScript -->
                </div>
            </div>
        </section>
    </main>

    <!-- Certificate Modal -->
    <div class="modal" id="certificate-modal">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <div class="modal-body" id="certificate-modal-body">
                <!-- Modal content will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Full Screen Image Viewer -->
    <div class="image-viewer-overlay" id="image-viewer">
        <div class="image-viewer-content">
            <span class="image-viewer-close" id="image-viewer-close">&times;</span>
            <button class="image-viewer-controls image-viewer-prev" id="image-viewer-prev">
                <i class="fas fa-chevron-left"></i>
            </button>
            <img class="image-viewer-image" id="image-viewer-image" src="" alt="">
            <button class="image-viewer-controls image-viewer-next" id="image-viewer-next">
                <i class="fas fa-chevron-right"></i>
            </button>
            <div class="image-viewer-info" id="image-viewer-info">
                <div class="image-viewer-title" id="image-viewer-title"></div>
                <div class="image-viewer-org" id="image-viewer-org"></div>
            </div>
        </div>
    </div>

    <!-- Include Footer -->
    <div id="footer-placeholder"></div>

    <!-- Scripts -->
    <script src="assets/js/data.js"></script>
    <script src="assets/js/main.js"></script>
    <script>
        // Enhanced initialization with better error handling and timing
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Certificates page DOM loaded');
            
            // Force body layout structure immediately
            document.body.classList.add('portfolio-body');
            document.body.style.paddingTop = '80px';
            document.body.style.margin = '0';
            document.body.style.minHeight = '100vh';
            document.body.style.display = 'flex';
            document.body.style.flexDirection = 'column';
            
            // Use the more reliable sequential loading function
            if (typeof window.loadComponentsSequentially === 'function') {
                window.loadComponentsSequentially(function() {
                    console.log('Components loaded, initializing certificates page');
                    
                    // Add extra safety delay for certificates page
                    setTimeout(function() {
                        try {
                            populateCertificatesPage();
                            initializeCertificateFilters();
                            initializeCertificateModal();
                            initializeImageViewer();
                            updateCertificateImages();
                            
                            // Ensure footer is at bottom
                            const footer = document.getElementById('footer-placeholder');
                            if (footer) {
                                footer.style.marginTop = 'auto';
                                footer.style.position = 'relative';
                                footer.style.zIndex = '100';
                            }
                            
                        } catch (error) {
                            console.error('Error populating certificates page:', error);
                        }
                    }, 300);
                });
            } else {
                // Fallback to the other function
                console.log('Using fallback loading function');
                window.loadComponentsAndInit(function() {
                    setTimeout(function() {
                        try {
                            populateCertificatesPage();
                            initializeCertificateFilters();
                            initializeCertificateModal();
                            initializeImageViewer();
                            updateCertificateImages();
                            
                            // Ensure footer is at bottom
                            const footer = document.getElementById('footer-placeholder');
                            if (footer) {
                                footer.style.marginTop = 'auto';
                                footer.style.position = 'relative';
                                footer.style.zIndex = '100';
                            }
                            
                        } catch (error) {
                            console.error('Error populating certificates page:', error);
                        }
                    }, 400);
                });
            }
        });
        
        // Additional safety check after window load
        window.addEventListener('load', function() {
            console.log('Certificates page fully loaded');
            
            // Final verification of layout
            setTimeout(function() {
                const header = document.getElementById('header-placeholder');
                const footer = document.getElementById('footer-placeholder');
                
                if (header) {
                    header.style.position = 'fixed';
                    header.style.top = '0';
                    header.style.zIndex = '9999';
                }
                
                if (footer) {
                    footer.style.position = 'relative';
                    footer.style.marginTop = 'auto';
                    footer.style.zIndex = '100';
                }
                
                console.log('Final layout verification completed');
            }, 500);
        });
    </script>
</body>
</html>
