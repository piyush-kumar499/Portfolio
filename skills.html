<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Technical and Soft Skills - Programming Languages, Tools, and Frameworks">
    <title>Skills - Your Name</title>
    <link rel="stylesheet" href="assets/css/skills.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Add inline styles to prevent layout issues -->
    <style>
        /* Ensure proper layout structure */
        body {
            padding-top: 80px !important;
            margin: 0 !important;
            min-height: 100vh !important;
            display: flex !important;
            flex-direction: column !important;
        }
        
        #header-placeholder {
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            right: 0 !important;
            z-index: 9999 !important;
            height: 80px !important;
        }
        
        main {
            flex: 1 !important;
            padding-top: 0 !important;
        }
        
        #footer-placeholder {
            margin-top: auto !important;
            position: relative !important;
            z-index: 100 !important;
        }
        
        @media (max-width: 768px) {
            body {
                padding-top: 70px !important;
            }
            #header-placeholder {
                height: 70px !important;
            }
        }
    </style>
</head>
<body class="portfolio-body">
    <!-- Include Header -->
    <div id="header-placeholder"></div>

    <!-- Main Content Wrapper -->
    <main>
        <!-- Skills Hero Section -->
        <section class="skills-hero">
            <div class="container">
                <h1 class="page-title">My <span class="highlight">Skills</span></h1>
                <p class="page-subtitle">A comprehensive overview of my technical expertise and capabilities</p>
            </div>
        </section>

        <!-- Programming Languages -->
        <section class="skills-section">
            <div class="container">
                <h2 class="section-title">
                    <i class="fas fa-code"></i>
                    Programming Languages
                </h2>
                <div class="skills-grid" id="programming-skills">
                    <!-- Programming skills will be populated by JavaScript -->
                </div>
            </div>
        </section>

        <!-- Frameworks & Libraries -->
        <section class="skills-section">
            <div class="container">
                <h2 class="section-title">
                    <i class="fas fa-layer-group"></i>
                    Frameworks & Libraries
                </h2>
                <div class="skills-grid" id="framework-skills">
                    <!-- Framework skills will be populated by JavaScript -->
                </div>
            </div>
        </section>

        <!-- Tools & Technologies -->
        <section class="skills-section">
            <div class="container">
                <h2 class="section-title">
                    <i class="fas fa-tools"></i>
                    Tools & Technologies
                </h2>
                <div class="skills-grid" id="tools-skills">
                    <!-- Tools skills will be populated by JavaScript -->
                </div>
            </div>
        </section>

        <!-- Soft Skills -->
        <section class="skills-section">
            <div class="container">
                <h2 class="section-title">
                    <i class="fas fa-users"></i>
                    Soft Skills
                </h2>
                <div class="soft-skills-grid" id="soft-skills">
                    <!-- Soft skills will be populated by JavaScript -->
                </div>
            </div>
        </section>

        <!-- Skills Progress Summary -->
        <section class="skills-summary">
            <div class="container">
                <h2 class="section-title">Proficiency Overview</h2>
                <div class="summary-stats" id="skills-summary">
                    <!-- Skills summary will be populated by JavaScript -->
                </div>
            </div>
        </section>
    </main>

    <!-- Include Footer -->
    <div id="footer-placeholder"></div>

    <!-- Scripts -->
    <script src="assets/js/data.js"></script>
    <script src="assets/js/main.js"></script>
    <script>
        // Enhanced initialization with better error handling and timing
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Skills page DOM loaded');
            
            // Force body layout structure immediately
            document.body.classList.add('portfolio-body');
            document.body.style.paddingTop = '80px';
            document.body.style.margin = '0';
            document.body.style.minHeight = '100vh';
            document.body.style.display = 'flex';
            document.body.style.flexDirection = 'column';
            
            // Use the more reliable sequential loading function
            if (typeof window.loadComponentsSequentially === 'function') {
                window.loadComponentsSequentially(function() {
                    console.log('Components loaded, initializing skills page');
                    
                    // Add extra safety delay for skills page
                    setTimeout(function() {
                        try {
                            populateSkillsPage();
                            console.log('Skills page populated successfully');
                            
                            // Ensure footer is at bottom
                            const footer = document.getElementById('footer-placeholder');
                            if (footer) {
                                footer.style.marginTop = 'auto';
                                footer.style.position = 'relative';
                                footer.style.zIndex = '100';
                            }
                            
                        } catch (error) {
                            console.error('Error populating skills page:', error);
                        }
                    }, 300);
                });
            } else {
                // Fallback to the other function
                console.log('Using fallback loading function');
                window.loadComponentsAndInit(function() {
                    setTimeout(function() {
                        try {
                            populateSkillsPage();
                            
                            // Ensure footer is at bottom
                            const footer = document.getElementById('footer-placeholder');
                            if (footer) {
                                footer.style.marginTop = 'auto';
                                footer.style.position = 'relative';
                                footer.style.zIndex = '100';
                            }
                            
                        } catch (error) {
                            console.error('Error populating skills page:', error);
                        }
                    }, 400);
                });
            }
        });
        
        // Additional safety check after window load
        window.addEventListener('load', function() {
            console.log('Skills page fully loaded');
            
            // Final verification of layout
            setTimeout(function() {
                const header = document.getElementById('header-placeholder');
                const footer = document.getElementById('footer-placeholder');
                
                if (header) {
                    header.style.position = 'fixed';
                    header.style.top = '0';
                    header.style.zIndex = '9999';
                }
                
                if (footer) {
                    footer.style.position = 'relative';
                    footer.style.marginTop = 'auto';
                    footer.style.zIndex = '100';
                }
                
                console.log('Final layout verification completed');
            }, 500);
        });
    </script>
</body>
</html>